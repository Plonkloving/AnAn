
首先引用官方js库
 
    <link rel="stylesheet" href="https://js.arcgis.com/4.29/esri/themes/light/main.css">
    <script src="https://js.arcgis.com/4.29/"></script>
然后使用官方提供的代码
    <script>
        require([
            "esri/config",
            //"esri/Map",
            "esri/WebMap",
            "esri/views/MapView",
            "esri/widgets/ScaleBar",//比例尺
            "esri/widgets/Legend",//图例
            "esri/widgets/BasemapGallery"//底图切换
        ], function (esriConfig, WebMap, MapView, ScaleBar, Legend,BasemapGallery) {
 
            esriConfig.apiKey = "AAPKb9fe8ec672004da7bfa1847f3ffbb8518jQr9zOMbWDhKjYI5leVpfSFZgSmHl64ZqE3pHmwaSzrT4JssWhn7S4jDFzVURC1";
 
            /*const map = new Map({
                basemap: "satellite" // basemap styles service
            });*/
            const webmap = new WebMap({
                portalItem: {
                    id: "3ea0c773b32d4404b82f77f9fbfbf328"//改成web地图的id
                }
            });
 
            const view = new MapView({
                /*map: map,
                center: [117, 40], // Longitude, latitude
                zoom: 13, */ // Zoom level
                container: "viewDiv",// Div element
                map: webmap,
            });
 
            const scalebar = new ScaleBar({
                view: view
            });
 
            view.ui.add(scalebar, "bottom-left");
 
            const legend = new Legend({
                view: view
            });
            view.ui.add(legend, "top-right");
 
           
const basemapGallery = new BasemapGallery({
   view: view,
   source: [Basemap.fromId("topo-vector"), Basemap.fromId("hybrid"), customBasemap] // autocasts to LocalBasemapsSource
});
view.ui.add(basemapGallery,"bottom-right");
 
        });
    </script>
